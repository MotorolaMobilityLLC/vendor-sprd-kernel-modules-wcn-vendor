on post-fs-data
    #Add bluetooth mac address dir
    mkdir /data/vendor/bluetooth 0770 bluetooth bluetooth

on early-boot
    chown system system /sys/class/misc/wcn/devices/sw_ver
    chown system system /sys/class/misc/wcn/devices/hw_ver
    chown system system /sys/class/misc/wcn/devices/loglevel
    chown system system /sys/class/misc/wcn/devices/armlog_status
    chown system system /sys/class/misc/wcn/devices/reset_dump
    chown system system /sys/class/misc/wcn/devices/atcmd
    chown system system /sys/class/misc/wcn/devices/pm_qos_enable

on post-fs-data
    mkdir /data/vendor/bluetooth 0770 bluetooth bluetooth

on property:sys.boot_completed=1
    chmod 660 /sys/class/rfkill/rfkill0/state
    chown bluetooth net_bt_admin /sys/class/rfkill/rfkill0/state
    chmod 660 /sys/class/rfkill/rfkill0/type
    chown bluetooth net_bt_admin /sys/class/rfkill/rfkill0/type
    chmod 660 /sys/class/rfkill/rfkill1/state
    chown bluetooth net_bt_admin /sys/class/rfkill/rfkill1/state
    chmod 660 /sys/class/rfkill/rfkill1/type
    chown bluetooth net_bt_admin /sys/class/rfkill/rfkill1/type

    chmod 660 /sys/devices/platform/sprd-mtty/dumpmem
    chown bluetooth net_bt_admin /sys/devices/platform/sprd-mtty/dumpmem
    restorecon -R /sys/devices/platform/sprd-mtty/dumpmem

on cali-fs
    insmod /vendor/lib/modules/unisoc_wcn_bsp.ko
    insmod /vendor/lib/modules/sprd_wlan_combo.ko
    insmod /vendor/lib/modules/unisoc_gnss_common_ctl_all.ko
    insmod /vendor/lib/modules/sprdbt_tty.ko
    insmod /vendor/lib/modules/sprd_fm.ko
    insmod /vendor/lib/modules/unisoc_gnss_dbg.ko
    insmod /vendor/lib/modules/unisoc_gnss_pmnotify_ctl.ko

    chmod 660 /sys/class/rfkill/rfkill0/state
    chown bluetooth net_bt_admin /sys/class/rfkill/rfkill0/state
    chmod 660 /sys/class/rfkill/rfkill0/type
    chown bluetooth net_bt_admin /sys/class/rfkill/rfkill0/type
    chmod 660 /sys/class/rfkill/rfkill1/state
    chown bluetooth net_bt_admin /sys/class/rfkill/rfkill1/state
    chmod 660 /sys/class/rfkill/rfkill1/type
    chown bluetooth net_bt_admin /sys/class/rfkill/rfkill1/type

    insmod ${ro.vendor.ko.mount.point}/socko/sprd_fm.ko

    chmod 660 /sys/devices/platform/wcn_bt/dumpmem
    chown bluetooth net_bt_admin /sys/devices/platform/wcn_bt/dumpmem
    restorecon -R /sys/devices/platform/wcn_bt/dumpmem

on factorytest
    insmod /vendor/lib/modules/unisoc_wcn_bsp.ko
    insmod /vendor/lib/modules/sprd_wlan_combo.ko
    insmod /vendor/lib/modules/unisoc_gnss_common_ctl_all.ko
    insmod /vendor/lib/modules/sprdbt_tty.ko
    insmod /vendor/lib/modules/sprd_fm.ko
    insmod /vendor/lib/modules/gnss_dbg.ko
    insmod /vendor/lib/modules/gnss_pmnotify_ctl.ko


service wifisar0 /vendor/bin/wifisar0.sh
    user root
    group system
    oneshot
    disabled

service wifisar1 /vendor/bin/wifisar1.sh
    user root
    group system
    oneshot
    disabled

service wifisar2 /vendor/bin/wifisar2.sh
    user root
    group system
    oneshot
    disabled

service wifisar3 /vendor/bin/wifisar3.sh
    user root
    group system
    oneshot
    disabled

service wifisar7 /vendor/bin/wifisar7.sh
    user root
    group system
    oneshot
    disabled

service wifisar6 /vendor/bin/wifisar6.sh
    user root
    group system
    oneshot
    disabled

service wifisar1eu /vendor/bin/wifisar1eu.sh
    user root
    group system
    oneshot
    disabled

service wifisar2eu /vendor/bin/wifisar2eu.sh
    user root
    group system
    oneshot
    disabled

service wifisar6eu /vendor/bin/wifisar6eu.sh
    user root
    group system
    oneshot
    disabled

service wifisar2anz /vendor/bin/wifisar2anz.sh
    user root
    group system
    oneshot
    disabled

service wifisar3anz /vendor/bin/wifisar3anz.sh
    user root
    group system
    oneshot
    disabled

service wifisar4anz /vendor/bin/wifisar4anz.sh
    user root
    group system
    oneshot
    disabled

service wifisar6anz /vendor/bin/wifisar6anz.sh
    user root
    group system
    oneshot
    disabled

on property:persist.sys.longcheer.wifisar=0
    start wifisar0

on property:persist.sys.longcheer.wifisar=1 && property:ro.boot.sku=2
    start wifisar1

on property:persist.sys.longcheer.wifisar=2
    start wifisar2

on property:persist.sys.longcheer.wifisar=3
    start wifisar3

on property:persist.sys.longcheer.wifisar=7
    start wifisar7

on property:persist.sys.longcheer.wifisar=6
    start wifisar6

on property:persist.sys.longcheer.wifisar=1 && property:ro.boot.sku=3
    start wifisar1eu

on property:persist.sys.longcheer.wifisar=2 && property:ro.boot.sku=3
    start wifisar2eu

on property:persist.sys.longcheer.wifisar=6 && property:ro.boot.sku=3
    start wifisar6eu

on property:persist.sys.longcheer.wifisar=2 && property:ro.boot.sku=6
    start wifisar2anz

on property:persist.sys.longcheer.wifisar=3 && property:ro.boot.sku=6
    start wifisar3anz

on property:persist.sys.longcheer.wifisar=4 && property:ro.boot.sku=6
    start wifisar4anz

on property:persist.sys.longcheer.wifisar=6 && property:ro.boot.sku=6
    start wifisar6anz